import{_ as a,o as t,c as p,e,a as n,b as s,f as o}from"./app-B6OEcTbO.js";const c={},i=n("h1",{id:"java-发送邮件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#java-发送邮件","aria-hidden":"true"},"#"),s(" java 发送邮件")],-1),u=n("h2",{id:"_1-outlook邮箱",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-outlook邮箱","aria-hidden":"true"},"#"),s(" 1. outlook邮箱")],-1),l=o(`<h3 id="_1-1-依赖" tabindex="-1"><a class="header-anchor" href="#_1-1-依赖" aria-hidden="true">#</a> 1.1 依赖</h3><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>
	<span class="token function">implementation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;com.sun.mail:jakarta.mail:2.0.1&quot;</span></span><span class="token punctuation">)</span>
	<span class="token function">implementation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;com.sun.activation:jakarta.activation:2.0.1&quot;</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-客户端配置" tabindex="-1"><a class="header-anchor" href="#_1-2-客户端配置" aria-hidden="true">#</a> 1.2 客户端配置</h3><ul><li>邮件地址和请求配置</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    fun <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">Properties</span> <span class="token punctuation">{</span>
        val properties <span class="token operator">=</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smtp.host&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;smtp.office365.com&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smtp.port&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;587&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smtp.auth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smtp.timeout&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;25000&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smpt.auth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smtp.starttls.enable&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;mail.smtp.ssl.socketFactory.class&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;com.sun.mail.util.MailSSLSocketFactory&quot;</span><span class="token punctuation">)</span>
        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;smtp.ssl.socketFactory.fallback&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> properties
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>发送账户配置</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>fun <span class="token function">mailSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">Session</span> <span class="token punctuation">{</span>
        val session <span class="token operator">=</span> <span class="token class-name">Session</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">MyMailAuth</span><span class="token punctuation">(</span><span class="token string">&quot;you account&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;your password&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> session
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-发送邮件" tabindex="-1"><a class="header-anchor" href="#_1-3-发送邮件" aria-hidden="true">#</a> 1.3 发送邮件</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    fun <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token keyword">to</span><span class="token operator">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> text<span class="token operator">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> subject<span class="token operator">:</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        val message <span class="token operator">=</span> <span class="token class-name">MimeMessage</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span>
        message<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string">&quot;you account&quot;</span><span class="token punctuation">)</span>
        message<span class="token punctuation">.</span><span class="token function">setRecipient</span><span class="token punctuation">(</span><span class="token class-name">Message<span class="token punctuation">.</span>RecipientType</span><span class="token punctuation">.</span><span class="token constant">TO</span><span class="token punctuation">,</span> <span class="token class-name">InternetAddress</span><span class="token punctuation">(</span><span class="token keyword">to</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        message<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        message<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span>subject<span class="token operator">?</span><span class="token operator">:</span>text<span class="token punctuation">)</span>
        <span class="token class-name">Transport</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9);function r(k,d){return t(),p("div",null,[i,u,e(" more "),l])}const v=a(c,[["render",r],["__file","java发送邮件.html.vue"]]);export{v as default};
